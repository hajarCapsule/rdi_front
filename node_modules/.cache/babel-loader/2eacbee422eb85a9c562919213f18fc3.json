{"ast":null,"code":"var _jsxFileName = \"/home/okajimmy/lacapsule/roomDirectory/roomDirectoryIndi/reactApp/src/component/LoginPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Input, Button } from 'antd';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LoginPage(props) {\n  _s();\n\n  //DECLARATION DES ETATS DE SIGNUP//\n  const [emailSignUp, setEmailSignUp] = useState();\n  const [lastNameSignUp, setLastNameSignUp] = useState();\n  const [roomNumberSignUp, setRoomNumberSignUp] = useState(); //DECLARATION DES ETATS DE SIGNIN//\n\n  const [emailSignIn, setEmailSignIn] = useState('');\n  const [lastNameSignIn, setLastNameSignIn] = useState(\"\");\n  const [roomNumberSignIn, setRoomNumberSignIn] = useState(\"\"); //DECLARATION DES ETATS DE MESSAGE D'ERREUR//\n\n  const [listErrorsSignin, setErrorsSignin] = useState([]);\n  const [listErrorsSignup, setErrorsSignup] = useState([]); //DECLARATION DES ETATS DE MESSAGE D'ERREUR//\n\n  const [userExists, setUserExists] = useState(false); //FONCTION SIGNUP//\n\n  var handleSubmitSignup = async () => {\n    //ENVOIE DES INFOS AU BACK POUR INSCRIPTION D'UN USER//\n    const data = await fetch('/sign-up', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `lastnameFromFront=${lastNameSignUp}&emailFromFront=${emailSignUp}&roomNumberFromFront=${roomNumberSignUp}`\n    });\n    const body = await data.json();\n\n    if (body.result === true) {\n      //ENREGISTREMENT DU TOKEN DANS UN REDUCER//\n      props.addToken(body.token);\n      setUserExists(true);\n    } else {\n      //MESSAGE D'ERREU SIGNUP//\n      setErrorsSignup(body.error);\n    }\n  }; //FONCTION SIGNIN//\n\n\n  var handleSubmitSignin = async () => {\n    //ENVOIE DES INFOS AU BACK POUR VERIFICATION SI USER DEJA EXISTANT//\n    const data = await fetch('/sign-in', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      body: `emailFromFront=${emailSignIn}&lastnameFromFront=${lastNameSignIn}&roomNumberFromFront=${roomNumberSignIn}`\n    });\n    const body = await data.json();\n\n    if (body.result === true) {\n      //ENREGISTREMENT DU TOKEN DANS UN REDUCER//\n      props.addToken(body.token);\n      setUserExists(true);\n    } else {\n      //MESSAGE D'ERREUR SIGNUP//\n      setErrorsSignin(body.error);\n    }\n  };\n\n  if (userExists) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 12\n    }, this);\n  }\n\n  var tabErrorsSignin = listErrorsSignin.map((error, i) => {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 12\n    }, this);\n  });\n  var tabErrorsSignup = listErrorsSignup.map((error, i) => {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 12\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ImgBackGround\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Sign\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"SignIn\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => setLastNameSignIn(e.target.value),\n        className: \"Login-input\",\n        placeholder: \"LastName\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => setEmailSignIn(e.target.value),\n        className: \"Login-input\",\n        placeholder: \"email@email.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => setRoomNumberSignIn(e.target.value),\n        className: \"Login-input\",\n        placeholder: \"N\\xB0 Chambre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), tabErrorsSignin, /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handleSubmitSignin(),\n        type: \"primary\",\n        children: \"Sign-in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Sign\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"SignUp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => setLastNameSignUp(e.target.value),\n        className: \"Login-input\",\n        placeholder: \"LastName\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => setEmailSignUp(e.target.value),\n        className: \"Login-input\",\n        placeholder: \"email@email.com\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        onChange: e => setRoomNumberSignUp(e.target.value),\n        className: \"Login-input\",\n        placeholder: \"N\\xB0 Chambre\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), tabErrorsSignup, /*#__PURE__*/_jsxDEV(Button, {\n        onClick: () => handleSubmitSignup(),\n        style: {\n          width: '80px'\n        },\n        type: \"primary\",\n        children: \"Sign-up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n\n_s(LoginPage, \"JE8nFaCMvipQw6o6mKKDHBcXkFU=\");\n\n_c = LoginPage;\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    addToken: function (token) {\n      dispatch({\n        type: 'addToken',\n        token: token\n      });\n    }\n  };\n}\n\nexport default connect(null, mapDispatchToProps)(LoginPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["/home/okajimmy/lacapsule/roomDirectory/roomDirectoryIndi/reactApp/src/component/LoginPage.js"],"names":["React","useState","Input","Button","Redirect","connect","LoginPage","props","emailSignUp","setEmailSignUp","lastNameSignUp","setLastNameSignUp","roomNumberSignUp","setRoomNumberSignUp","emailSignIn","setEmailSignIn","lastNameSignIn","setLastNameSignIn","roomNumberSignIn","setRoomNumberSignIn","listErrorsSignin","setErrorsSignin","listErrorsSignup","setErrorsSignup","userExists","setUserExists","handleSubmitSignup","data","fetch","method","headers","body","json","result","addToken","token","error","handleSubmitSignin","tabErrorsSignin","map","i","tabErrorsSignup","e","target","value","width","mapDispatchToProps","dispatch","type"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Input, Button } from 'antd';\nimport { Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux';\n\nfunction LoginPage(props) {\n\n  //DECLARATION DES ETATS DE SIGNUP//\n  const [emailSignUp, setEmailSignUp] = useState();\n  const [lastNameSignUp, setLastNameSignUp] = useState();\n  const [roomNumberSignUp, setRoomNumberSignUp] = useState();\n\n  //DECLARATION DES ETATS DE SIGNIN//\n  const [emailSignIn, setEmailSignIn] = useState('')\n  const [lastNameSignIn, setLastNameSignIn] = useState(\"\")\n  const [roomNumberSignIn, setRoomNumberSignIn] = useState(\"\")\n\n  //DECLARATION DES ETATS DE MESSAGE D'ERREUR//\n  const [listErrorsSignin, setErrorsSignin] = useState([])\n  const [listErrorsSignup, setErrorsSignup] = useState([])\n  \n  //DECLARATION DES ETATS DE MESSAGE D'ERREUR//\n  const [userExists, setUserExists] = useState(false)\n\n  //FONCTION SIGNUP//\n  var handleSubmitSignup = async () => {\n\n    //ENVOIE DES INFOS AU BACK POUR INSCRIPTION D'UN USER//\n    const data = await fetch('/sign-up', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n      body: `lastnameFromFront=${lastNameSignUp}&emailFromFront=${emailSignUp}&roomNumberFromFront=${roomNumberSignUp}`\n    })\n\n    const body = await data.json()\n\n    if (body.result === true) {\n      //ENREGISTREMENT DU TOKEN DANS UN REDUCER//\n      props.addToken(body.token)\n      setUserExists(true)\n    } else {\n      //MESSAGE D'ERREU SIGNUP//\n      setErrorsSignup(body.error)\n    }\n  }\n\n  //FONCTION SIGNIN//\n  var handleSubmitSignin = async () => {\n    //ENVOIE DES INFOS AU BACK POUR VERIFICATION SI USER DEJA EXISTANT//\n\n    const data = await fetch('/sign-in', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\n      body: `emailFromFront=${emailSignIn}&lastnameFromFront=${lastNameSignIn}&roomNumberFromFront=${roomNumberSignIn}`\n    })\n\n    const body = await data.json()\n\n\n    if (body.result === true) {\n      //ENREGISTREMENT DU TOKEN DANS UN REDUCER//\n      props.addToken(body.token)\n      setUserExists(true)\n\n    } else {\n      //MESSAGE D'ERREUR SIGNUP//\n      setErrorsSignin(body.error)\n    }\n  }\n\n  if(userExists){\n    return <Redirect to='/home' />\n  }\n\n  var tabErrorsSignin = listErrorsSignin.map((error,i) => {\n    return(<p>{error}</p>)\n  })\n\n  var tabErrorsSignup = listErrorsSignup.map((error,i) => {\n    return(<p>{error}</p>)\n  })\n  return (\n    <div className='ImgBackGround'>\n      {/* SIGN-IN */}\n\n      <div className=\"Sign\">\n        <h1>SignIn</h1>\n        <Input onChange={(e) => setLastNameSignIn(e.target.value)} className=\"Login-input\" placeholder=\"LastName\" />\n        <Input onChange={(e) => setEmailSignIn(e.target.value)} className=\"Login-input\" placeholder=\"email@email.com\" />\n        <Input onChange={(e) => setRoomNumberSignIn(e.target.value)} className=\"Login-input\" placeholder=\"N° Chambre\" />\n        {tabErrorsSignin}\n        <Button onClick={() => handleSubmitSignin()} type=\"primary\">Sign-in</Button>\n      </div>\n\n      {/* SIGN-UP */}\n\n      <div className=\"Sign\">\n        <h1>SignUp</h1>\n        <Input onChange={(e) => setLastNameSignUp(e.target.value)} className=\"Login-input\" placeholder=\"LastName\" />\n        <Input onChange={(e) => setEmailSignUp(e.target.value)} className=\"Login-input\" placeholder=\"email@email.com\" />\n        <Input onChange={(e) => setRoomNumberSignUp(e.target.value)} className=\"Login-input\" placeholder=\"N° Chambre\" />\n        {tabErrorsSignup}\n\n        <Button onClick={() => handleSubmitSignup()} style={{ width: '80px' }} type=\"primary\">Sign-up</Button>\n      </div>\n    </div>\n\n  );\n}\nfunction mapDispatchToProps(dispatch){\n  return {\n    addToken: function(token){\n      dispatch({type: 'addToken', token: token})\n    }\n  }\n}\n\nexport default connect(\n  null,\n  mapDispatchToProps\n)(LoginPage)"]},"metadata":{},"sourceType":"module"}