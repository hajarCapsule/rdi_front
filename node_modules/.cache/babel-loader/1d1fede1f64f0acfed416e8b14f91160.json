{"ast":null,"code":"var _jsxFileName = \"/home/okajimmy/lacapsule/roomDirectory/roomDirectoryIndi/reactApp/src/component/OrderPage .js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport 'antd/dist/antd.css';\nimport { Card, Radio, InputNumber, Modal, Divider } from 'antd';\nimport { CardText, CardTitle, CardSubtitle, Button } from 'reactstrap';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Typography } from 'antd';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport NavBar from './NavBar';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%'\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular\n  }\n}));\n\nfunction OrderPage(props) {\n  _s();\n\n  const classes = useStyles(); //DÃ©claration des ETATS\n\n  const [food, setFood] = useState([]);\n  const [foodDetails, setFoodDetails] = useState([]);\n  const [tabOrderFood, setTabOrderFood] = useState([]);\n  const [quantity, setQuantity] = useState(1);\n  const [place, setPlace] = useState(\"En Chambre\");\n  const [visible, setVisible] = useState(false);\n  const [isModalVisible, setIsModalVisible] = useState(false); //USE EFFECT\n\n  useEffect(() => {\n    var getFood = async () => {\n      var response = await fetch(`/restauration/${props.match.params.route}/${props.match.params.id}`);\n      var data = await response.json();\n      console.log('rouuuuuuuuute', props.match.params.route);\n      setFood(data.food);\n      setFoodDetails(data.food.detail);\n    };\n\n    getFood();\n  }, []);\n\n  const showModal = () => {\n    setIsModalVisible(true);\n    handleSubmit();\n  };\n\n  const handleOk = () => {\n    setIsModalVisible(false);\n    setVisible(true);\n  };\n\n  console.log('foodDatas', foodDetails);\n  console.log('food', food.detail);\n  foodDetails.map(category => {\n    return Object.keys(category).map(cat => {\n      return console.log(cat);\n    });\n  });\n  var details = JSON.stringify({\n    tabOrderFood\n  }); // RADIO FUNCTION\n\n  function onChange(value, entry) {\n    console.log('changed', value);\n    console.log('changed entry', entry);\n    setTabOrderFood([...tabOrderFood, {\n      type: entry,\n      quantity: value\n    }]);\n  }\n\n  console.log(tabOrderFood, \"tableau\");\n  console.log('quantity', quantity);\n  console.log('place', place);\n\n  var handleSubmit = async () => {\n    const data = fetch(`/orderConfirmation`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: `details=${details}&token=${props.token}&foodID=${food._id}&lieu=${place}&quantity=${quantity}&price=${food.prix * quantity}`\n    });\n  };\n\n  if (visible) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 10\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center',\n        marginTop: 40\n      },\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: 550,\n          height: '60%'\n        },\n        cover: /*#__PURE__*/_jsxDEV(\"img\", {\n          alt: \"example\",\n          src: food.image\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 18\n        }, this),\n        children: [/*#__PURE__*/_jsxDEV(CardTitle, {\n          tag: \"h2\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(InputNumber, {\n            min: 1,\n            max: 10,\n            defaultValue: 1,\n            onChange: e => setQuantity(e),\n            style: {\n              width: 50\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 32\n          }, this), \" x \", food.nameArticle]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardSubtitle, {\n          tag: \"h3\",\n          className: \"mb-2 text-muted\",\n          children: [food.prix, \" \\u20AC\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          children: food.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              justifyContent: 'space-between'\n            },\n            children: [/*#__PURE__*/_jsxDEV(Radio.Group, {\n              onChange: e => {\n                e.target.value == 1 ? setPlace(\"En Chambre\") : setPlace(\"Sur Place\");\n              },\n              name: \"radiogroup\",\n              defaultValue: 1,\n              children: [/*#__PURE__*/_jsxDEV(Radio, {\n                value: 1,\n                children: \"En chambre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Radio, {\n                value: 2,\n                children: \"Sur Place\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: showModal,\n              children: \"Confirmer ma commande\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CardText, {\n          children: \"Faites votre Choix :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), foodDetails.map(objectName => {\n          return Object.keys(objectName).map(category => {\n            return /*#__PURE__*/_jsxDEV(ExpansionPanel, {\n              children: [/*#__PURE__*/_jsxDEV(ExpansionPanelSummary, {\n                expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 33\n                }, this),\n                \"aria-controls\": \"panel1a-content\",\n                id: \"panel1a-header\",\n                style: {\n                  backgroundColor: '#AADEC0',\n                  opacity: 0.4\n                },\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  className: classes.heading,\n                  children: category\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 19\n              }, this), objectName[category].map(entry => {\n                return /*#__PURE__*/_jsxDEV(ExpansionPanelDetails, {\n                  style: {\n                    borderWidth: 3,\n                    borderColor: 'white',\n                    borderStyle: 'solid',\n                    backgroundColor: '#F8F8F8'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(Typography, {\n                    children: [/*#__PURE__*/_jsxDEV(InputNumber, {\n                      min: 1,\n                      max: 10,\n                      defaultValue: 0,\n                      onChange: e => {\n                        onChange(e, entry);\n                      },\n                      style: {\n                        width: 50\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 134,\n                      columnNumber: 25\n                    }, this), \" x  \", entry]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 133,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 29\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 17\n            }, this);\n          });\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        title: \"Confirmation\",\n        visible: isModalVisible,\n        onOk: handleOk,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Votre Confirmation a \\xE9t\\xE9 pris en compte !!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(OrderPage, \"dih7+0SDwA/d50hVspwxeHkQ50Q=\", false, function () {\n  return [useStyles];\n});\n\n_c = OrderPage;\n\nfunction mapStateToProps(state) {\n  console.log(state.token);\n  return {\n    token: state.token\n  };\n}\n\nexport default connect(mapStateToProps, null)(OrderPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderPage\");","map":{"version":3,"sources":["/home/okajimmy/lacapsule/roomDirectory/roomDirectoryIndi/reactApp/src/component/OrderPage .js"],"names":["React","useState","useEffect","makeStyles","Card","Radio","InputNumber","Modal","Divider","CardText","CardTitle","CardSubtitle","Button","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","Accordion","AccordionDetails","AccordionSummary","ExpandMoreIcon","Typography","Redirect","connect","NavBar","useStyles","theme","root","width","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","OrderPage","props","classes","food","setFood","foodDetails","setFoodDetails","tabOrderFood","setTabOrderFood","quantity","setQuantity","place","setPlace","visible","setVisible","isModalVisible","setIsModalVisible","getFood","response","fetch","match","params","route","id","data","json","console","log","detail","showModal","handleSubmit","handleOk","map","category","Object","keys","cat","details","JSON","stringify","onChange","value","entry","type","method","headers","body","token","_id","prix","display","justifyContent","marginTop","height","image","e","nameArticle","description","target","objectName","backgroundColor","opacity","borderWidth","borderColor","borderStyle","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport 'antd/dist/antd.css';\nimport { Card, Radio, InputNumber, Modal, Divider } from 'antd';\nimport {CardText,CardTitle, CardSubtitle, Button} from 'reactstrap';\nimport ExpansionPanel from '@material-ui/core/ExpansionPanel';\nimport ExpansionPanelSummary from '@material-ui/core/ExpansionPanelSummary';\nimport ExpansionPanelDetails from '@material-ui/core/ExpansionPanelDetails';\n\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\n\nimport { Typography } from 'antd';\nimport { Redirect } from 'react-router-dom'\nimport { connect } from \"react-redux\";\n\nimport NavBar from './NavBar'\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n}));\n\nfunction OrderPage(props) {\n  const classes = useStyles();\n  \n  //DÃ©claration des ETATS\n  const [food, setFood] = useState([]);\n  const [foodDetails, setFoodDetails] = useState([]);\n  const [tabOrderFood, setTabOrderFood] = useState([]);\n  const [quantity, setQuantity] = useState(1);\n  const [place, setPlace] = useState(\"En Chambre\");\n  const [visible, setVisible] = useState(false);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n\n  //USE EFFECT\n  useEffect(() => {\n    var getFood = async () => {\n      var response = await fetch(`/restauration/${props.match.params.route}/${props.match.params.id}`);\n      var data = await response.json();\n      console.log('rouuuuuuuuute', props.match.params.route)\n      setFood(data.food);\n      setFoodDetails(data.food.detail)\n    }\n    getFood();\n  }, []);\n\n\n  const showModal = () => {\n    setIsModalVisible(true);\n    handleSubmit()\n\n  };\n  const handleOk = () => {\n    setIsModalVisible(false);\n    setVisible(true)\n  };\n  console.log('foodDatas', foodDetails)\n  console.log('food', food.detail)\n  foodDetails.map(category => { return Object.keys(category).map(cat => { return console.log(cat) }) })\n\nvar details = JSON.stringify({tabOrderFood})\n\n  // RADIO FUNCTION\n  function onChange(value,entry) {\n    console.log('changed', value);\n    console.log('changed entry', entry);\n    setTabOrderFood([...tabOrderFood,{type:entry,quantity:value}])\n  }\nconsole.log(tabOrderFood,\"tableau\")\nconsole.log('quantity',quantity)\nconsole.log('place',place)\n\nvar handleSubmit = async () => {\n  const data = fetch(`/orderConfirmation`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n    body: `details=${details}&token=${props.token}&foodID=${food._id}&lieu=${place}&quantity=${quantity}&price=${food.prix*quantity}`,\n  });\n};\n\nif(visible){\n   \n  return <Redirect to='/home' />\n\n}\n  return (\n    <>\n      <NavBar />\n      <div style={{ display: 'flex', justifyContent: 'center', marginTop: 40 }}>\n\n\n        <Card\n          style={{ width: 550, height: '60%' }}\n          cover={<img alt=\"example\" src={food.image} />} >\n\n          <CardTitle tag=\"h2\"> <InputNumber min={1} max={10} defaultValue={1} onChange={e=>setQuantity(e)} style={{ width: 50 }} /> x {food.nameArticle}</CardTitle>\n          <CardSubtitle tag=\"h3\" className=\"mb-2 text-muted\">{food.prix} â¬</CardSubtitle>\n          <CardText>{food.description}</CardText>\n          <Divider />\n          <CardText>\n            <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n              <Radio.Group onChange={e=>{e.target.value==1 ?setPlace(\"En Chambre\"):setPlace(\"Sur Place\")}} name=\"radiogroup\" defaultValue={1} >\n                <Radio value={1}>En chambre</Radio>\n                <Radio value={2}>Sur Place</Radio>\n              </Radio.Group>\n              <Button onClick={showModal}>Confirmer ma commande</Button>\n            </div>\n            <Divider /> </CardText>\n          <CardText>Faites votre Choix :</CardText>\n          {foodDetails.map(objectName => {\n            return Object.keys(objectName).map(category => {\n              return (\n                <ExpansionPanel >\n                  <ExpansionPanelSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                    style={{ backgroundColor: '#AADEC0', opacity: 0.4 }}\n                  >\n                    <Typography className={classes.heading}>{category}</Typography>\n                  </ExpansionPanelSummary>\n                  {objectName[category].map(entry => {\n                    return (<ExpansionPanelDetails style={{ borderWidth: 3, borderColor: 'white', borderStyle: 'solid', backgroundColor: '#F8F8F8' }}>\n                      <Typography>\n                        <InputNumber min={1} max={10} defaultValue={0} onChange={(e)=>{onChange(e,entry)}} style={{ width: 50 }} /> x  {entry}</Typography>\n                    </ExpansionPanelDetails>\n                    )\n                  })}\n\n                </ExpansionPanel>\n              )\n            })\n          })}\n\n        </Card>\n        <Modal title=\"Confirmation\" visible={isModalVisible} onOk={handleOk} >\n        <p>Votre Confirmation a Ã©tÃ© pris en compte !!</p>\n\n      </Modal>\n      </div>\n\n    </>\n\n  )\n}\n\nfunction mapStateToProps(state) {\n  console.log(state.token)\n  return { token: state.token };\n}\nexport default connect(mapStateToProps, null)(OrderPage);\n"]},"metadata":{},"sourceType":"module"}